# Trae IDE 项目规则配置

## 代码质量规则

### 1. 代码风格检查
- 在提交代码前必须运行代码格式化工具
- 保持统一的代码风格（缩进、命名规范等）
- 遵循项目已有的代码约定

### 2. 类型检查
- TypeScript 项目必须运行 `npm run typecheck` 或等效命令
- 修复所有类型错误后才能提交
- 避免使用 `any` 类型，除非有充分理由

### 3. Lint 检查
- 运行 ESLint、TSLint 或项目配置的 lint 工具
- 修复所有 lint 警告和错误
- 对于必须忽略的警告，添加明确的注释说明原因

## 测试规则

### 1. 单元测试
- 新功能必须包含相应的单元测试
- 修改现有功能时，确保相关测试通过
- 测试覆盖率不应低于项目基准线

### 2. 集成测试
- 关键业务流程需要集成测试
- 测试数据应该独立且可重复

## 安全规则

### 1. 敏感信息
- 禁止在代码中硬编码密码、API 密钥等敏感信息
- 使用环境变量或安全的配置管理方案
- 定期检查和更新依赖项的安全漏洞

### 2. 输入验证
- 所有用户输入必须进行验证和清理
- 防止 SQL 注入、XSS 等常见安全漏洞

## 性能规则

### 1. 代码优化
- 避免不必要的循环和递归
- 使用合适的数据结构和算法
- 注意内存泄漏问题

### 2. 构建优化
- 定期检查和优化构建配置
- 移除未使用的依赖和代码
- 使用代码分割和懒加载

## Git 提交规则

### 1. 提交信息规范
```
<type>(<scope>): <subject>

<body>

<footer>
```

类型说明：
- feat: 新功能
- fix: 修复bug
- docs: 文档更新
- style: 代码格式调整
- refactor: 代码重构
- test: 测试相关
- chore: 构建过程或辅助工具的变动

### 2. 提交前检查清单
- [ ] 代码已通过所有测试
- [ ] 已运行 lint 和类型检查
- [ ] 提交信息符合规范
- [ ] 没有包含敏感信息

## 项目特定规则

### Java 项目规则
- 遵循 Java 命名规范
- 使用合适的异常处理
- 保持方法的单一职责原则
- 添加必要的 JavaDoc 注释

### 前端项目规则
- 确保响应式设计
- 优化图片和资源加载
- 遵循可访问性标准
- 兼容主流浏览器

### 后端项目规则
- API 设计遵循 RESTful 原则
- 添加适当的日志记录
- 实现错误处理机制
- 数据库操作使用事务

## 常用命令配置

在 `.trae/rules/commands.md` 中可以添加项目特定的命令：

```markdown
# 项目常用命令

## 开发
- `npm run dev` - 启动开发服务器
- `npm run build` - 构建项目
- `npm run test` - 运行测试

## 代码质量
- `npm run lint` - 运行代码检查
- `npm run typecheck` - 运行类型检查
- `npm run format` - 格式化代码

## 部署
- `npm run deploy` - 部署项目
- `npm run preview` - 预览构建结果
```

## 规则更新

- 定期审查和更新项目规则
- 团队成员应熟悉并遵守这些规则
- 新成员加入时需要了解项目规则